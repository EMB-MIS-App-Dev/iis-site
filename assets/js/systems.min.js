var base_url=window.location.origin+"/embis";function userfuncid(t){$.ajax({url:base_url+"/Admin/User_accounts/approved_user",type:"POST",async:!0,data:{userid:t},success:function(e){console.log(t)}})}function rule_rows(t,e){$.ajax({url:base_url+"/Admin/User_accounts_ajax/rule_rows",type:"POST",async:!0,data:{number:t},success:function(t){"1"==e?$("#rule_rows_body").html(t):"2"==e?$("#edit_rule_rows_body").html(t):"3"==e&&$("#rule_rows_body_two").html(t)}})}function rule_rows_edit(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/edit_rule_rows",type:"POST",async:!0,data:{number:t},success:function(t){$("#rule_rows_edit_body").html(t)}})}function ruledetails(t,e){$.ajax({url:base_url+"/Admin/User_accounts_ajax/ruledetails",type:"POST",async:!0,data:{rulename:t,mode:e},success:function(t){$("#ruledetails_body").html(t)}})}function edit_ruledetails(t,e){$.ajax({url:base_url+"/Admin/User_accounts_ajax/ruledetails",type:"POST",async:!0,data:{rulename:t,mode:e},success:function(t){$("#edit_ruledetails_body").html(t)}})}function sec_details(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/sec_details",type:"POST",async:!0,data:{div_token:t},success:function(t){$("#sec_user_val_body").html(t)}})}function transfer_sec_details(t,e){$.ajax({url:base_url+"/Admin/User_accounts_ajax/transfer_sec_details",type:"POST",async:!0,data:{div_token:t,token:e},success:function(t){$("#transfer_sec_details_"+e).html(t)}})}function _transfer_sec_details_(t,e){$.ajax({url:base_url+"/Admin/User_accounts_ajax/rplctransfer_sec_details_",type:"POST",async:!0,data:{div_token:t,token:e},success:function(t){$("#_transfer_sec_details_"+e).html(t)}})}function edit_sec_details(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/sec_details",type:"POST",async:!0,data:{div_token:t},success:function(t){$("#edit_sec_user_val_body").html(t)}})}function edit_sec_details_modal(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/edit_sec_details_modal",type:"POST",async:!0,data:{div_token:t},success:function(t){$("#edit_sec_details_modal_body").html(t)}})}function view_account_details(t){$.ajax({url:base_url+"/Admin/User_accounts/view_account_details",type:"POST",async:!0,data:{user_id_val:t},success:function(t){$("#view_account_details_body").html(t)}})}function user_assignment(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/user_assignment",type:"POST",async:!0,data:{secno:t},success:function(e){$("#user_assignment_"+t).html(e)}})}function dc_user_assignment(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/dc_user_assignment",type:"POST",async:!0,data:{divno:t},success:function(e){$("#dc_user_assignment"+t).html(e)}})}function assign_employee(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/assign_employee",type:"POST",async:!0,data:{secno:t},success:function(e){$("#assign_employee_"+t).html(e)}})}function assign_sc(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/assign_sc",type:"POST",async:!0,data:{secno:t},success:function(e){$("#sc_assignment_"+t).html(e)}})}function edit_assign_sc(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/edit_assign_sc",type:"POST",async:!0,data:{secno:t},success:function(e){$("#edit_sc_assignment_"+t).html(e)}})}function edit_details(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/edit_details",type:"POST",async:!0,data:{secno:t},success:function(t){$("#edit_details_body").html(t)}})}function edit_plantilla_details(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/edit_plantilla_details",type:"POST",async:!0,data:{planpstn_id:t},success:function(t){$("#edit_plantilla_details_body").html(t)}})}function under_sec_employee(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/under_sec_employee",type:"POST",async:!0,data:{secno:t},success:function(t){$("#employee_body").html(t)}})}function employee_settings_comment(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/employee_settings_comment",type:"POST",async:!0,data:{token:t},success:function(t){$("#employee_settings_comment_body").html(t)}})}function emp_action_res(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/emp_action_res",type:"POST",async:!0,data:{token:t},success:function(t){$("#emp-act-res").html(t)}})}function notapplicablesecorunit(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/notapplicablesecorunit",type:"POST",async:!0,data:{},success:function(t){$("#notapplicablebody").html(t)}})}function rmvsecorunitbtn(t){""!=t?$.ajax({url:base_url+"/Admin/User_accounts_ajax/rmvsecorunitbtn",type:"POST",async:!0,data:{token:t},success:function(t){alert("Successfully removed."),window.location.href=base_url+"/Admin/User_accounts/User_list"}}):alert("Please select section or unit to be removed.")}function rstrbtnntapp(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/rstrbtnntapp",type:"POST",async:!0,data:{token:t},success:function(t){alert("Successfully restored."),window.location.href=base_url+"/Admin/User_accounts/User_list"}})}function edturfnctn(t,e,a,s){$.ajax({url:base_url+"/Admin/User_accounts_ajax/edturfnctn",type:"POST",async:!0,data:{div:t,token:e,userid:a,row:s},success:function(t){$("#edtdtlsfnctnur").html(t)}})}function sbmtedtfntn(t,e,a,s,n){""!=t&&""!=e&&""!=a&&""!=s?$.ajax({url:base_url+"/Admin/User_accounts_ajax/sbmtedtfntn",type:"POST",async:!0,data:{token:t,des:e,div:a,sec:s,row:n},success:function(t){alert("Successfully edited."),window.location.href=base_url+"/Admin/User_accounts/User_list"}}):alert("All fields are required.")}function sbmtedtfntnnw(t,e,a,s){""!=t&&""!=e&&""!=a&&""!=s?$.ajax({url:base_url+"/Admin/User_accounts_ajax/sbmtedtfntnnw",type:"POST",async:!0,data:{token:t,des:e,div:a,sec:s},success:function(t){alert("Successfully added."),window.location.href=base_url+"/Admin/User_accounts/User_list"}}):alert("All fields are required.")}function edtrmvdnctn(t){1==confirm("Are you sure to delete this function?")?$.ajax({url:base_url+"/Admin/User_accounts_ajax/edtrmvdnctn",type:"POST",async:!0,data:{token:t},success:function(t){alert("Successfully removed."),window.location.href=base_url+"/Admin/User_accounts/User_list"}}):alert("Cancelled.")}function mdluptsadmn(){$.ajax({url:base_url+"/Admin/User_accounts_ajax/mdluptsadmn",type:"POST",async:!0,data:{},success:function(t){$("#module_updates_administrative_body").html(t)}})}function chkhierarchy(t,e){$.ajax({url:base_url+"/Admin/User_accounts_ajax/chkhierarchy",type:"POST",async:!0,data:{token:t,action:e},success:function(t){$("#chkhierarchy_body").html(t)}})}function chkdfltexstfnc(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/chkdfltexstfnc",type:"POST",async:!0,data:{token:t},success:function(t){$("#chkdfltexstfnc_").html(t)}})}function chkdfltexstfncundr(t,e){$.ajax({url:base_url+"/Admin/User_accounts_ajax/chkdfltexstfncundr",type:"POST",async:!0,data:{token:t,other_token:e},success:function(t){$("#_chkdfltexstfnc").html(t)}})}function chkdfltexstfncundrrplc(t,e){$.ajax({url:base_url+"/Admin/User_accounts_ajax/chkdfltexstfncundrrplc",type:"POST",async:!0,data:{token:t,other_token:e},success:function(t){$("#_chkdfltexstfnc_").html(t)}})}function transhrchyslct(t,e,a){$.ajax({url:base_url+"/Admin/User_accounts_ajax/transhrchyslct",type:"POST",async:!0,data:{token:t,val:e,user:a},success:function(t){""!=e?$("#rowsrslt_").html(t):$("#dlfthrchy_").html(t)}})}function transhrchyslct_(t,e,a){$.ajax({url:base_url+"/Admin/User_accounts_ajax/transhrchyslct_",type:"POST",async:!0,data:{token:t,val:e,user:a},success:function(t){""!=e?$("#_rowsrslt_").html(t):$("#_dlfthrchy_").html(t)}})}function undothierchy(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/undothierchy",type:"POST",async:!0,data:{token:t},success:function(t){$("#dlfthrchy_").html(t)}})}function undothierchy_(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/undothierchy_",type:"POST",async:!0,data:{token:t},success:function(t){$("#_dlfthrchy_").html(t)}})}function undrprsnnlt(t,e,a){$.ajax({url:base_url+"/Admin/User_accounts_ajax/undrprsnnlt",type:"POST",async:!0,data:{dflt:t,rplcmnt:e,val:a},success:function(t){$("#undrprsnnlt_").html(t)}})}function rmvusrbtnusrlst(t){1==confirm("Are you sure to remove this user?")?$.ajax({url:base_url+"/Admin/User_accounts_ajax/rmvusrbtnusrlst",type:"POST",async:!0,data:{token:t},success:function(t){var e=JSON.parse(t);"success"==e.status&&(swalalert("SUCCESS!","User successfully removed.","success"),$("#user_accounts_table").DataTable().ajax.reload()),"failed"==e.status&&swalalert("ERROR!","Action failed.","error")}}):swalalert("ERROR!","Cancelled.","error")}function trmsusrsdm(){$.ajax({url:base_url+"/Admin/Ajax_trans/trmsusrsdm",type:"POST",async:!0,data:{},success:function(t){$("#trmsusrsdm_").html(t)}})}function trnorws(t,e){$.ajax({url:base_url+"/Admin/Ajax_trans/trnorws",type:"POST",async:!0,data:{token:t,nr:e},success:function(t){$("#trnorws_").html(t)}})}function travel_destination_option(t,e){$.ajax({url:base_url+"/Travel/Order/process_travel",type:"POST",async:!0,data:{token:token},success:function(e){$(t).closest("tr").find("#notacompanybody").html(e)}})}function process_travel(t){$.ajax({url:base_url+"/Travel/Order/process_travel",type:"POST",async:!0,data:{token:t},success:function(t){$("#travel-order-modal").html(t)}})}function disapprove(t){$.ajax({url:base_url+"/Travel/Order/disapprove_travel",type:"POST",async:!0,data:{token:t},success:function(t){$("#travel-order-modal").html(t)}})}function notinthelist(t,e,a){"ifnotinthelist"==e&&$.ajax({url:base_url+"/Travel/Order/notinthelist",type:"POST",async:!0,data:{value:e,row:a},success:function(e){$(t).closest("tr").find("#ifnotinthelistbody").html(e)}})}function notinthelist2(t,e,a){"ifnotinthelist"==e&&$.ajax({url:base_url+"/Travel/Order/notinthelist2",type:"POST",async:!0,data:{value:e,row:a},success:function(e){$(t).closest("tr").find("#ifnotinthelistbody").html(e)}})}function return_destination_dropdown(t,e,a){$.ajax({url:base_url+"/Travel/Order/return_destination_dropdown",type:"POST",async:!0,data:{row:e,travelcat:a},success:function(e){$(t).closest("tr").find("#ifnotinthelistbody").html(e)}})}function return_destination_dropdown2(t,e,a,s){$.ajax({url:base_url+"/Travel/Order/return_destination_dropdown2",type:"POST",async:!0,data:{row:e,travelcat:a,rand:s},success:function(e){$(t).closest("tr").find("#ifnotinthelistbody").html(e)}})}function coordinates_lat(t,e){"ifnotinthelist"!=e&&$.ajax({url:base_url+"/Travel/Order/coordinates_lat",type:"POST",async:!0,data:{value:e},success:function(e){$(t).closest("tr").find("#latitude").html(e)}})}function coordinates_lon(t,e){"ifnotinthelist"!=e&&$.ajax({url:base_url+"/Travel/Order/coordinates_lon",type:"POST",async:!0,data:{value:e},success:function(e){$(t).closest("tr").find("#longitude").html(e)}})}function input_coordinates_lat(t,e){$.ajax({url:base_url+"/Travel/Order/coordinates_lat_input",type:"POST",async:!0,data:{value:e},success:function(e){$(t).closest("tr").find("#latitude").html(e)}})}function input_coordinates_lon(t,e){$.ajax({url:base_url+"/Travel/Order/coordinates_lon_input",type:"POST",async:!0,data:{value:e},success:function(e){$(t).closest("tr").find("#longitude").html(e)}})}function add_row_destination(t,e){$.ajax({url:base_url+"/Travel/Order/add_row_destination",type:"POST",async:!0,data:{value:t,travelcat:e},success:function(t){$("#add_row_destination_body").html(t)}})}function view_travel(t){$.ajax({url:base_url+"/Travel/Order/view_travel",type:"POST",async:!0,data:{token:t},success:function(t){$("#view_travel_body").html(t)}})}function ticket_travel(t){$.ajax({url:base_url+"/Travel/Order/ticket_travel",type:"POST",async:!0,data:{token:t},success:function(t){$("#ticket_travel_body").html(t)}})}function calendar_details_dashboard(t){$.ajax({url:base_url+"/Travel/Order/calendar_details",type:"POST",async:!0,data:{token:t},success:function(t){$("#travel-order-modal-details").html(t)}})}function traveltype(t){$.ajax({url:base_url+"/Travel/Order/traveltype",type:"POST",async:!0,data:{type:t},success:function(t){$("#traveltypebody").html(t)}})}function view_trans_travel_details(t){$.ajax({url:base_url+"/Travel/Order/view_trans_travel_details",type:"POST",async:!0,data:{token:t},success:function(t){$("#view_alltrans_travel_details_body").html(t)}})}function notinlist_labor(t){"ifnotinlist_labor"==t&&$.ajax({url:base_url+"/Travel/Order/notinlist_labor",type:"POST",async:!0,data:{token:t},success:function(t){$("#notinlist_labor_body").html(t)}})}function return_laborers_dropdown(t){$.ajax({url:base_url+"/Travel/Order/return_laborers_dropdown",type:"POST",async:!0,data:{token:t},success:function(t){$("#notinlist_labor_body").html(t)}})}function checkdate(t){$.ajax({url:base_url+"/Travel/Order/checkdate",type:"POST",async:!0,data:{token:t},success:function(t){var e=JSON.parse(t);"failed"==e.status&&(alert("Selected departure date is invalid. Please select again."),document.getElementById("Process").disabled=!0),"success"==e.status&&$("#Process").removeAttr("disabled")}})}function add_travel_report(t){$.ajax({url:base_url+"/Travel/Order/add_travel_report",type:"POST",async:!0,data:{token:t},success:function(t){$("#add_travel_report_body").html(t)}})}function trvlrprtattchmnt(t,e,a){$.ajax({url:base_url+"/Travel/Order/trvlrprtattchmnt",type:"POST",async:!0,data:{token:t,route_order:a},success:function(t){$("#trvlrprtattchmntbody"+e).html(t)}})}function receive_transaction_travel(t,e){var a=1,s=$.ajax({url:base_url+"/Dms/Dms/receive_transaction",method:"POST",data:{trans_no:e},dataType:"json",beforeSend:function(e,a){t.html('<span class="text">Please Wait...</span>').attr("disabled","disabled")}});return s.done(function(t){1==t.error&&$("#save_draft_button").val("Save Status").removeAttr("disabled")}),s.fail(function(t,e){a=0,alert("Request failed: "+e)}),a}function touploadattachments(t){for(var e=new FormData,a=document.getElementById("supporting_docs").files.length,s=0;s<a;s++)e.append("supporting_docs[]",document.getElementById("supporting_docs").files[s]);e.append("token",t),document.getElementById("tosupdocs").style.display="block",$.ajax({url:base_url+"/Travel/Order/touploadattachments",type:"post",data:e,dataType:"json",xhr:function(){var t=$.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",tosupprogress,!1),t},cache:!1,contentType:!1,processData:!1,success:function(t){"success"==t.status&&(alert("Attached file/s successfully uploaded."),document.getElementById("viewtouploadedfilesbtn").style.display="block",document.getElementById("supporting_docs").value=""),"failed"==t.status&&alert("Attached file/s failed to upload. Please try again."),document.getElementById("tosupdocs").style.display="none"}})}function tosupprogress(t){if(t.lengthComputable){var e=t.total,a=100*t.loaded/e;document.getElementById("tosupdocsuploadprogressbar_").style.width=Math.round(a)+"%",document.getElementById("tosupdocsprogresspercentage_").innerHTML=Math.round(a)+"%"}}function viewtouploadedfiles(t){$.ajax({url:base_url+"/Travel/Order/viewtouploadedfiles",type:"POST",async:!0,data:{token:t},success:function(t){$("#viewtouploadedfiles_").html(t)}})}function removeuploadedto(t,e,a){$.ajax({url:base_url+"/Travel/Order/removeuploadedto",type:"POST",async:!0,data:{token:t,filename:e,cnt:a},success:function(t){var e=JSON.parse(t);"success"==e.status&&(alert("File selected successfully delete."),viewtouploadedfiles(e.token))}})}function stcmpvw(t){$.ajax({url:base_url+"/Travel/Order/stcmpvw",type:"POST",async:!0,data:{token:t},success:function(t){$("#ifnotinthelistbody").html(t)}})}function view_travel_format(t){$.ajax({url:base_url+"/Travel/Order/view_travel_format",type:"POST",async:!0,data:{token:t},success:function(t){$("#view_format_mdl_").html(t)}})}function admin_change_region(t,e,a){$.ajax({url:base_url+"/Admin/User_accounts_ajax/admin_change_region",type:"POST",async:!0,data:{val:t,ofc:e},success:function(t){"1"==a&&(window.location=base_url+"/Admin/User_accounts/User_list"),"2"==a&&(window.location=base_url+"/Admin/Uploads")}})}function edit_user_accounts_modal(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/edit_user_accounts_modal",type:"POST",async:!0,data:{userid:t},success:function(t){$("#edit_user_accounts_modal_body").html(t)}})}function edit_user_accounts_details_modal(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/edit_user_accounts_details_modal",type:"POST",async:!0,data:{userid:t},success:function(t){$("#edit_user_accounts_details_modal_body").html(t)}})}function view_user_accounts_modal(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/view_user_accounts_modal",type:"POST",async:!0,data:{userid:t},success:function(t){$("#view_user_accounts_modal_body").html(t)}})}function delete_line_of_authority(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/delete_line_of_authority_token",type:"POST",async:!0,data:{description:t},success:function(t){$("#delete_line_of_authority_body").html(t)}})}function edit_line_of_authority(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/edit_line_of_authority_token",type:"POST",async:!0,data:{description:t},success:function(t){$("#edit_line_of_authority_body").html(t)}})}function view_line_of_authority(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/view_line_of_authority_token",type:"POST",async:!0,data:{description:t},success:function(t){$("#view_line_of_authority_body").html(t)}})}function edit_account_modal_dtls(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/edit_account_modal_dtls",type:"POST",async:!0,data:{token:t},success:function(t){$("#edit_account_modal_body").html(t)}})}function resetpassword(t){1==confirm("Are you sure you want to reset this account?")?(alert("Reset successfully."),$.ajax({url:base_url+"/Admin/User_accounts_ajax/resetpassword",type:"POST",async:!0,data:{token:t},success:function(t){}})):alert("Cancelled."),$("#account_credentials").DataTable().ajax.reload(null,!1)}function encryptpassword(t,e){$.ajax({url:base_url+"/Admin/User_accounts_ajax/encryptpassword",type:"POST",async:!0,data:{usertoken:t,token:e},success:function(t){$("#account_credentials").DataTable().ajax.reload(null,!1)}})}function changeview(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/changeview",type:"POST",async:!0,data:{token:t},success:function(t){location.reload()}})}function edithierarchy(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/edithierarchy",type:"POST",async:!0,data:{token:t},success:function(t){$("#edithierarchy_body").html(t)}})}function Remove_esig_btn(t){$.ajax({url:base_url+"/Admin/Uploads_ajax/remove_esig_info",type:"POST",async:!0,data:{token:t},success:function(t){$("#Remove_esig_div").html(t)}})}function edit_esig_btn(t){$.ajax({url:base_url+"/Admin/Uploads_ajax/edit_esig",type:"POST",async:!0,data:{token:t},success:function(t){$("#edit_esig_div").html(t)}})}function usavedata(){var t=new FormData($("#uoptionsform")[0]);$.ajax({url:base_url+"/Admin/Uploads_ajax/usavedata",type:"POST",async:!0,data:t,contentType:!1,processData:!1,success:function(t){var e=JSON.parse(t);"success"==e.status&&alert("Signature positioning successfully updated."),"failed"==e.status&&alert("Update failed.")}})}function check_hierarchy_name(t){$.ajax({url:base_url+"/Admin/Post_ajax/check_hierarchy_name",method:"POST",data:{token:t},dataType:"json",success:function(e){console.log(e),""!=t?0==e?($("#hierarchy_save_btn").prop("disabled",!1),$("#error_msg_hierarchy").html('<i style="color:green;">(Description provided is unique.)</i>')):($("#hierarchy_save_btn").prop("disabled",!0),$("#error_msg_hierarchy").html('<i style="color:red;">(Description provided is already taken.)</i>')):$("#error_msg_hierarchy").html("")}})}function acc_rights(t,e,a){1==confirm("Are you sure to update this account?")?(alert("Account successfully updated."),$.ajax({url:base_url+"/Admin/User_accounts_ajax/acc_rights",type:"POST",async:!0,data:{token:t,column:e,userid:a},success:function(t){}})):alert("Cancelled.")}function administrative_tab(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/administrative_tab",type:"POST",async:!0,data:{token:t},success:function(t){}})}function loginas(t){$.ajax({url:base_url+"/Admin/User_accounts_ajax/loginas",type:"POST",async:!0,data:{token:t},success:function(t){window.location.href=base_url+"/index/dashboard"}})}function sw_process_report(t){$.ajax({url:base_url+"/Swm/Sweet_ajax/process_details",method:"POST",data:{trans_no:t},success:function(t){$("#process_sweetreport_modal").html(t)}})}function sw_lgu_patrolled(t){$.ajax({url:base_url+"/Swm/Sweet_ajax/sw_barangay",type:"POST",async:!0,data:{token:t},success:function(t){$("#sw_barangay_div").html(t)}})}function sw_others(t){$.ajax({url:base_url+"/Swm/Sweet_ajax/sw_others",type:"POST",async:!0,data:{token:t},success:function(t){$("#sw_others_div").html(t)}})}function swtom(t,e,a,s,n){$.ajax({url:base_url+"/Swm/Sweet_ajax/swtom",type:"POST",async:!0,data:{token:t,dt_ptrl:e,rn:a,dt_ft:s,trans_no:n},success:function(t){$("#swtom_div").html(t)}})}function swupdate_report(t,e){$.ajax({url:base_url+"/Swm/Sweet_ajax/swupdate_report",type:"POST",async:!0,data:{token:t,rn:e},success:function(t){$("#update_sw_report_body").html(t)}})}function lgufeedbackbtn(t){$.ajax({url:base_url+"/Swm/Sweet_ajax/lgufeedbackbtn",type:"POST",async:!0,data:{token:t},success:function(t){$("#lgufeedbackmodal_").html(t),chkfeedbacks()}})}function chkfeedbacks(){$.ajax({url:base_url+"/Swm/Sweet_ajax/chklgufeedbacks",type:"POST",async:!0,data:{},success:function(t){$("#chklgufeedbacks_").html(t)}})}function view_sw_history(t){$.ajax({url:base_url+"/Swm/Sweet_ajax/view_sw_history",type:"POST",async:!0,data:{token:t},success:function(t){$("#view_sw_history_body").html(t)}})}function returnsw(t,e){$.ajax({url:base_url+"/Swm/Sweet_ajax/returnsw",type:"POST",async:!0,data:{token:t,rn:e},success:function(t){$("#disapproval-reason").html(t)}})}function swedit_report(t,e){$.ajax({url:base_url+"/Swm/Sweet_ajax/swedit_report",type:"POST",async:!0,data:{token:t,cat:e},success:function(t){$("#edit_report_body").html(t)}})}function swedit_report_evaluator(t){$.ajax({url:base_url+"/Swm/Sweet_ajax/swedit_report_evaluator",type:"POST",async:!0,data:{token:t},success:function(t){$("#edit_report_body").html(t)}})}function enable_upload_btn(t,e,a){var s='<input type="file" class="form-control" name="edit_site_photo[]" id="edit_site_photo" accept="image/*"><button type="button" style="width: 135px; margin-left: 10px;" class="btn btn-success btn-sm" onclick=editswuploadphoto("'+t+'","'+e+'","'+a+'");><span class="fa fa-upload"></span>&nbsp;Upload photo</button><button type="button" onclick=cancel_swupload("'+t+'","'+e+'","'+a+'"); style="width: 135px; margin-left: 10px;" class="btn btn-danger btn-sm"><span class="fa fa-ban"></span>&nbsp;Cancel</button>';$("#sitephotobtns_").html(s)}function cancel_swupload(t,e,a){var s='<input type="file" class="form-control" disabled><button type="button" onclick=enable_upload_btn("'+t+'","'+e+'","'+a+'"); style="width: 135px; margin-left: 10px;" class="btn btn-warning btn-sm"><span class="fa fa-edit"></span>&nbsp;Edit Attachment</button>';$("#sitephotobtns_").html(s)}function editswuploadphoto(t,e,a){for(var s=new FormData,n=document.getElementById("edit_site_photo").files.length,c=0;c<n;c++)s.append("edit_site_photo[]",document.getElementById("edit_site_photo").files[c]);s.append("token",t),s.append("reportdate",e),s.append("reportnumber",a),document.getElementById("sweditsitephoto_").style.display="block",$.ajax({url:base_url+"/Swm/Sweet_ajax/editswuploadphoto",type:"post",data:s,dataType:"json",xhr:function(){var t=$.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",editswuserphotoprogress,!1),t},cache:!1,contentType:!1,processData:!1,success:function(t){if("uploaded"==t.status){alert("Photo successfully uploaded.");var e='<input type="file" class="form-control" disabled><button type="button" onclick=enable_upload_btn("'+t.token+'","'+t.reportdate+'","'+t.reportnumber+'"); style="width: 135px; margin-left: 10px;" class="btn btn-warning btn-sm"><span class="fa fa-edit"></span>&nbsp;Edit Attachment</button>';$("#sitephotobtns_").html(e)}else"failed"==t.status?alert("File uploaded is not an image. Please retry."):"empty"==t.status&&alert("Please attach photo.");document.getElementById("sweditsitephoto_").style.display="none"}})}function editswuserphotoprogress(t){if(t.lengthComputable){var e=t.total,a=100*t.loaded/e;document.getElementById("sweditsitephotouploadprogressbar_").style.width=Math.round(a)+"%",document.getElementById("sweditsitephotoprogresspercentage_").innerHTML=Math.round(a)+"%"}}function viewattachmentbtn(t){$.ajax({url:base_url+"/Swm/Sweet_ajax/viewattachmentbtn",type:"POST",async:!0,data:{token:t},success:function(t){$("#previously_attached_body").html(t)}})}function prevviewattachmentbtn(t,e){$.ajax({url:base_url+"/Swm/Sweet_ajax/prevviewattachmentbtn",type:"POST",async:!0,data:{token:t,reportnumber:e},success:function(t){$("#prevviewattachmentbtn_").html(t)}})}function filter_by_select(t){$.ajax({url:base_url+"/Swm/Sweet_ajax/filter_by_select",type:"POST",async:!0,data:{filter_by:t},success:function(t){$("#filter-by-body").html(t)}})}function assignsweet(){$.ajax({url:base_url+"/Swm/Sweet_ajax/assignsweet",type:"POST",async:!0,data:{},success:function(t){$("#assignsweetbdy").html(t)}})}function swaddtemplate(){$.ajax({url:base_url+"/Swm/Sweet_ajax/swaddtemplate",type:"POST",async:!0,data:{},success:function(t){$("#assignsweetbdy").html(t)}})}function swassignlgutouser(){$.ajax({url:base_url+"/Swm/Sweet_ajax/swassignlgutouser",type:"POST",async:!0,data:{},success:function(t){$("#assignsweetbdy").html(t)}})}function swsavelgudata(){var t=$("#sweetofficersselectize").val(),e=$("#sweetlguselectize").val();$.ajax({url:base_url+"/Swm/Sweet_postactions/swsavelgudata",type:"POST",async:!0,data:{swofficer:t,swlgu:e},success:function(t){"success"==JSON.parse(t).status?(alert("LGU/s successfully assigned to SWEET Officer."),$("#sweet_lgu_monitored").DataTable().ajax.reload(null,!1)):alert("Error! Please try again.")}})}function rmvassignedlgu(t){1==confirm("Are you sure to remove this assignment?")?$.ajax({url:base_url+"/Swm/Sweet_postactions/rmvassignedlgu",type:"POST",async:!0,data:{cnt:t},success:function(t){"success"==JSON.parse(t).status?(alert("Assignment successfully removed."),$("#sweet_lgu_monitored").DataTable().ajax.reload(null,!1)):alert("Error! Please try again.")}}):alert("Cancelled.")}function assignswuser(){var t=$("#casehandlers_selectize_settings").val(),e=$("#swfnc_selectize").val();""!=t&&""!=e?$.ajax({url:base_url+"/Swm/Sweet_postactions/assignswuser",type:"POST",async:!0,data:{token:t,func:e},success:function(t){alert("Successfully assigned."),$("#assignsweetbdy").html(t),$("#sweet_settings_index").DataTable().ajax.reload(null,!1)}}):alert("Please fill required fields.")}function assigntemplatesw(){var t=$("#hname").val(),e=$("[name='usertoken[]']").map(function(){return $(this).val()}).get();""!=e&&""!=t?$.ajax({url:base_url+"/Swm/Sweet_postactions/assigntemplatesw",type:"POST",async:!0,data:{token:e,hname:t},success:function(t){""!=t?alert(t+" - hierarchy name already exist."):(alert("Successfully assigned."),$("#assignsweetbdy").html(t)),$("#sweet_settings_templates").DataTable().ajax.reload(null,!1)}}):alert("Please fill required fields.")}function no_of_rows_sw(t){$.ajax({url:base_url+"/Swm/Sweet_ajax/no_of_rows_sw",type:"POST",async:!0,data:{norows:t},success:function(t){$("#result_sw_bdy_template").html(t)}})}function functemplatesw(t){$.ajax({url:base_url+"/Swm/Sweet_ajax/functemplatesw",type:"POST",async:!0,data:{token:t},success:function(t){$("#result_sw_bdy").html(t)}})}function rmvassngmntsw(t){1==confirm("Are you sure to remove this assignment?")?$.ajax({url:base_url+"/Swm/Sweet_postactions/rmvassngmntsw",type:"POST",async:!0,data:{token:t},success:function(t){alert("Successfully removed."),$("#sweet_settings_index").DataTable().ajax.reload(null,!1)}}):alert("Cancelled.")}function rmvtemplatesw(t){1==confirm("Are you sure to remove this template?")?$.ajax({url:base_url+"/Swm/Sweet_postactions/rmvtemplatesw",type:"POST",async:!0,data:{token:t},success:function(t){alert("Successfully removed."),$("#sweet_settings_templates").DataTable().ajax.reload(null,!1)}}):alert("Cancelled.")}function fnldspsl(t){$.ajax({url:base_url+"/Swm/Sweet_ajax/fnldspsl",type:"POST",async:!0,data:{token:t},success:function(t){$("#fnldspsl_bdy").html(t)}})}function fdsw_(t){"Others"==t&&$.ajax({url:base_url+"/Swm/Sweet_ajax/fdsw_",type:"POST",async:!0,data:{token:t},success:function(t){$("#fdsw_bdy").html(t)}})}function rtrntolistsw(){$.ajax({url:base_url+"/Swm/Sweet_ajax/rtrntolistsw",type:"POST",async:!0,data:{},success:function(t){$("#fdsw_bdy").html(t)}})}function swuploadphoto(t){for(var e=new FormData,a=document.getElementById("site_photo").files.length,s=0;s<a;s++)e.append("site_photo[]",document.getElementById("site_photo").files[s]);e.append("token",t),document.getElementById("swsitephoto_").style.display="block",$.ajax({url:base_url+"/Swm/Sweet_ajax/swuploadphoto",type:"post",data:e,dataType:"json",xhr:function(){var t=$.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",swuserphotoprogress,!1),t},cache:!1,contentType:!1,processData:!1,success:function(t){if("uploaded"==t.status){alert("Photo successfully uploaded.");var e='<a href="'+t.image_uploaded+'" target="_blank" style="width: 100%;" class="btn btn-info btn-sm">View uploaded photo</a><button type="button" style="width: 135px; margin-left: 10px;" onclick=swchangephoto("'+t.token+'","'+t.image_uploaded+'"); class="btn btn-warning btn-sm"><span class="fa fa-edit"></span>&nbsp;Change photo</button>';$("#swdvphotoattachment_").html(e)}else"failed"==t.status?alert("File uploaded is not an image. Please retry."):"empty"==t.status&&alert("Please attach photo.");document.getElementById("swsitephoto_").style.display="none"}})}function swuserphotoprogress(t){if(t.lengthComputable){var e=t.total,a=100*t.loaded/e;document.getElementById("swsitephotouploadprogressbar_").style.width=Math.round(a)+"%",document.getElementById("swsitephotoprogresspercentage_").innerHTML=Math.round(a)+"%"}}function swchangephoto(t,e){var a='<input class="form-control" type="file" name="site_photo[]" id="site_photo" accept="image/*"/><button type="button" style="width: 135px; margin-left: 10px;" onclick=swuploadphoto("'+t+'"); class="btn btn-success btn-sm"><span class="fa fa-upload"></span>&nbsp;Upload Photo</button><button type="button" style="width: 135px; margin-left: 10px;" onclick=swucancelaction("'+t+'","'+e+'"); class="btn btn-danger btn-sm"><span class="fa fa-ban"></span>&nbsp;Cancel</button>';$("#swdvphotoattachment_").html(a)}function swucancelaction(t,e){var a='<a href="'+e+'" target="_blank" style="width: 100%;" class="btn btn-info btn-sm">View uploaded photo</a><button type="button" style="width: 135px; margin-left: 10px;" onclick=swchangephoto("'+t+'","'+e+'"); class="btn btn-warning btn-sm"><span class="fa fa-edit"></span>&nbsp;Change photo</button>';$("#swdvphotoattachment_").html(a)}function updtswuploadphoto(t,e,a){for(var s=new FormData,n=document.getElementById("updtsite_photo").files.length,c=0;c<n;c++)s.append("updtsite_photo[]",document.getElementById("updtsite_photo").files[c]);s.append("token",t),s.append("datecreated",e),s.append("reportnumber",a),document.getElementById("updtswsitephoto_").style.display="block",$.ajax({url:base_url+"/Swm/Sweet_ajax/updtswuploadphoto",type:"post",data:s,dataType:"json",xhr:function(){var t=$.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",uptswuserphotoprogress,!1),t},cache:!1,contentType:!1,processData:!1,success:function(t){if("uploaded"==t.status){alert("Photo successfully uploaded.");var e='<a href="'+t.image_uploaded+'" target="_blank" style="width: 100%;" class="btn btn-info btn-sm">View uploaded photo</a><button type="button" style="width: 135px; margin-left: 10px;" onclick=updtswchangephoto("'+t.token+'","'+t.datecreated+'","'+t.reportnumber+'","'+t.image_uploaded+'"); class="btn btn-warning btn-sm"><span class="fa fa-edit"></span>&nbsp;Change photo</button>';$("#updtswdvphotoattachment_").html(e)}else"failed"==t.status?alert("File uploaded is not an image. Please retry."):"empty"==t.status&&alert("Please attach photo.");document.getElementById("updtswsitephoto_").style.display="none"}})}function updtswchangephoto(t,e,a,s){var n='<input class="form-control" type="file" name="updtsite_photo[]" id="updtsite_photo" accept="image/*"/><button type="button" style="width: 135px; margin-left: 10px;" onclick=updtswuploadphoto("'+t+'","'+e+'","'+a+'"); class="btn btn-success btn-sm"><span class="fa fa-upload"></span>&nbsp;Upload Photo</button><button type="button" style="width: 135px; margin-left: 10px;" onclick=updtswucancelaction("'+t+'","'+e+'","'+a+'","'+s+'"); class="btn btn-danger btn-sm"><span class="fa fa-ban"></span>&nbsp;Cancel</button>';$("#updtswdvphotoattachment_").html(n)}function updtswucancelaction(t,e,a,s){var n='<a href="'+s+'" target="_blank" style="width: 100%;" class="btn btn-info btn-sm">View uploaded photo</a><button type="button" style="width: 135px; margin-left: 10px;" onclick=updtswchangephoto("'+t+'","'+e+'","'+a+'","'+s+'"); class="btn btn-warning btn-sm"><span class="fa fa-edit"></span>&nbsp;Change photo</button>';$("#updtswdvphotoattachment_").html(n)}function uptswuserphotoprogress(t){if(t.lengthComputable){var e=t.total,a=100*t.loaded/e;document.getElementById("updtswsitephotouploadprogressbar_").style.width=Math.round(a)+"%",document.getElementById("updtswsitephotoprogresspercentage_").innerHTML=Math.round(a)+"%"}}function uactivetab(t){$.ajax({url:base_url+"/Swm/Sweet_ajax/uactivetab",type:"POST",async:!0,data:{tabnumber:t},success:function(t){}})}function chkcoordinatessw(t,e){$.ajax({url:base_url+"/Swm/Sweet_ajax/chkcoordinatessw",type:"POST",async:!0,data:{lat:t,long:e},success:function(t){$("#chkcoordinatessw_").html(t)}})}function divnovprcs(t,e){$.ajax({url:base_url+"/Swm/Sweet_ajax/divnovprcs",type:"POST",async:!0,data:{stat:t,tkn:e},success:function(t){$("#divnovprcs_").html(t)}})}function removenov(t){$.ajax({url:base_url+"/Swm/Sweet/removenov",type:"POST",async:!0,data:{cnt:t},success:function(t){$("#removenov_").html(t)}})}function swmnoto(t){$.ajax({url:base_url+"/Swm/Sweet/swmnoto",type:"POST",async:!0,data:{noto:t},success:function(t){$("#swmnoto_").html(t)}})}function viewgeocamphotos(t){$.ajax({url:base_url+"/Swm/Sweet_ajax/viewgeocamphotos",type:"POST",async:!0,data:{token:t},success:function(t){$("#viewgeocamphotos_").html(t)}})}function filterswmall(t){""!=t&&(window.location.href=base_url+"/swm/reports?rfilter="+t)}function editnovltr(t,e){$.ajax({url:base_url+"/Swm/Sweet_ajax/editnovltr",type:"POST",async:!0,data:{token:t,reportnumber:e},success:function(t){$("#edit_nov_letter_body").html(t)}})}function editnovletterbutton(t,e,a,s,n,c,r,o,l,u,d,i,_,p){$.ajax({url:base_url+"/Swm/Sweet_ajax/editnovletterbutton",type:"POST",async:!0,data:{token:t,rn:e,px:a,fn:s,mi:n,ln:c,sx:r,dn:o,mc:l,wr:u,em:d,ci:i,ld:_,route:p},success:function(t){"success"==JSON.parse(t).status?swalalertwithredirect("SUCCESS!","Successfully edited.","success","/swm/dashboard"):swalalert("ERROR!","Action failed.","error")}})}function vwattchmnt(t){$.ajax({url:base_url+"/Logs/Form/vwattchmnt",type:"POST",async:!0,data:{token:t},success:function(e){$("#vwattchmnt_body_"+t).html(e)}})}function timeoutlog(t){$.ajax({url:base_url+"/Logs/Form/timeoutlog",type:"POST",async:!0,data:{token:t},success:function(t){$("#timeoutlog_").html(t)}})}function chkcmpcll(t){$.ajax({url:base_url+"/Logs/Form/chkcmpcll",type:"POST",async:!0,data:{token:t},success:function(t){$("#_chkcmpcll").html(t)}})}function cl_frdobtn(t){$.ajax({url:base_url+"/Logs/Form/cl_frdobtn",type:"POST",async:!0,data:{token:t},success:function(t){$("#cl_frdobtn_").html(t)}})}function cl_srdobtn(t){$.ajax({url:base_url+"/Logs/Form/cl_srdobtn",type:"POST",async:!0,data:{token:t},success:function(t){$("#cl_srdobtn_").html(t)}})}function rpvwattmnt(t,e){$.ajax({url:base_url+"/Repository/Ajax/rpvwattmnt",type:"POST",async:!0,data:{trans_no:t,token:e},success:function(t){$("#rpvwattmnt_body_"+e).html(t)}})}function filterdtr(t){$.ajax({url:base_url+"/Admin/Dtr_ajax/filterdtr",type:"POST",async:!0,data:{token:t},success:function(t){"success"==JSON.parse(t).status&&(window.location.href=base_url+"/Admin/DTR")}})}function schedule_details(t){$.ajax({url:base_url+"/Schedule/Ajax/schedule_details",type:"POST",async:!0,data:{token:t},success:function(t){$("#schedule-details").html(t)}})}function chkparticipants(t,e){$.ajax({url:base_url+"/Schedule/Ajax/chkparticipants",type:"POST",async:!0,data:{token:t,id:e},success:function(t){var e=JSON.parse(t);"success"==e.status&&schedule_details(e.token)}})}function chkparticipantsedit(t,e){$.ajax({url:base_url+"/Schedule/Ajax/chkparticipants",type:"POST",async:!0,data:{token:t,id:e},success:function(t){var e=JSON.parse(t);"success"==e.status&&editschedtwo(e.token)}})}function schedstat(t){$.ajax({url:base_url+"/Schedule/Ajax/schedstat",type:"POST",async:!0,data:{token:t},success:function(t){$("#schedule-details").html(t)}})}function postponesched(t,e){$.ajax({url:base_url+"/Schedule/Ajax/postponesched",type:"POST",async:!0,data:{token:t,reason:e},success:function(t){"success"==JSON.parse(t).status&&(alert("Schedule successfully updated."),window.location.href=base_url+"/Schedule/Dashboard")}})}function startsched(t){1==confirm("Are you sure to start this schedule?")?$.ajax({url:base_url+"/Schedule/Ajax/startsched",type:"POST",async:!0,data:{token:t},success:function(t){var e=JSON.parse(t);"success"==e.status&&(alert("Schedule successfully updated."),schedule_details(e.token))}}):alert("Action cancelled.")}function sched_status(t){$.ajax({url:base_url+"/Schedule/Ajax/sched_status",type:"POST",async:!0,data:{token:t},success:function(t){$("#schedstatus_").html(t)}})}function agreementsorminutes(t){$.ajax({url:base_url+"/Schedule/Ajax/agreementsorminutes",type:"POST",async:!0,data:{token:t},success:function(t){$("#schedule-details").html(t)}})}function addagreementsorminutes(t,e,a){$.ajax({url:base_url+"/Schedule/Ajax/addagreementsorminutes",type:"POST",async:!0,data:{token:t,accountable:e,details:a},success:function(t){"success"==JSON.parse(t).status&&(alert("Schedule successfully updated."),window.location.href=base_url+"/Schedule/Dashboard")}})}function viewparticipants(t){$.ajax({url:base_url+"/Schedule/Ajax/viewparticipants",type:"POST",async:!0,data:{token:t},success:function(t){$("#participantsview").html(t)}})}function viewparticipantss(t){$.ajax({url:base_url+"/Schedule/Ajax/viewparticipantss",type:"POST",async:!0,data:{token:t},success:function(t){$("#participantsview_").html(t)}})}function viewparticipantsselectize(t){$.ajax({url:base_url+"/Schedule/Ajax/viewparticipantsselectize",type:"POST",async:!0,data:{token:t},success:function(t){$("#participantsviewselectize_").html(t)}})}function viewparticipantsselectizee(t){$.ajax({url:base_url+"/Schedule/Ajax/viewparticipantsselectize",type:"POST",async:!0,data:{token:t},success:function(t){$("#participantsviewselectizee_").html(t)}})}function removesched(t){1==confirm("Are you sure to remove this schedule?")?$.ajax({url:base_url+"/Schedule/Ajax/removesched",type:"POST",async:!0,data:{token:t},success:function(t){"success"==JSON.parse(t).status&&(alert("Schedule successfully updated."),window.location.href=base_url+"/Schedule/Dashboard")}}):alert("Action cancelled.")}function duplicatesched(t){1==confirm("Are you sure to duplicate this schedule?")?$.ajax({url:base_url+"/Schedule/Ajax/duplicatesched",type:"POST",async:!0,data:{token:t},success:function(t){$("#schedule-details").html(t)}}):alert("Action cancelled.")}function editsched(t){1==confirm("Are you sure to edit this schedule?")?$.ajax({url:base_url+"/Schedule/Ajax/editsched",type:"POST",async:!0,data:{token:t},success:function(t){$("#schedule-details").html(t)}}):alert("Action cancelled.")}function editschedtwo(t){$.ajax({url:base_url+"/Schedule/Ajax/editsched",type:"POST",async:!0,data:{token:t},success:function(t){$("#schedule-details").html(t)}})}function saveeditedsched(t,e,a,s,n,c){$.ajax({url:base_url+"/Schedule/Ajax/saveeditedsched",type:"POST",async:!0,data:{token:t,moreparticipants:e,subject:a,location:s,date_schedule:n,time_schedule:c},success:function(t){var e=JSON.parse(t);"success"==e.status&&(alert("Schedule successfully updated."),window.location.href=base_url+"/Schedule/Dashboard"),"failed"==e.status&&alert("Action failed.")}})}function rmvdisablesched(t){var e=document.getElementById("startdate").value,a=new Date(t),s=new Date($("#startdate").val());""!=e&&s>=a?$("#enddate").removeAttr("disabled"):(document.getElementById("enddate").disabled=!0,s<a&&(document.getElementById("startdate").value="",alert("Please select date greater than date schedule.")))}function verifydatesched(){new Date($("#startdate").val())<=new Date($("#enddate").val())||(alert("Please select a valid date range. It should be equal or greater than start date."),document.getElementById("enddate").value="")}function addnewsched(t,e,a,s){$.ajax({url:base_url+"/Schedule/Ajax/addnewsched",type:"POST",async:!0,data:{token:t,startdate:e,enddate:a,timesched:s},success:function(t){var e=JSON.parse(t);"success"==e.status&&(alert("New schedule(s) successfully added."),window.location.href=base_url+"/Schedule/Dashboard"),"failed"==e.status&&alert("Please provide date range which is in week range of date schedule.")}})}function removepartcipant(t,e){1==confirm("Are you sure to remove this participant?")&&$.ajax({url:base_url+"/Schedule/Ajax/removepartcipant",type:"POST",async:!0,data:{cnt:t,token:e},success:function(e){var a=JSON.parse(e);"success"==a.status&&(alert("Participant successfully removed."),editschedtwo(t)),"failed"==a.status&&alert("Action failed.")}})}function viewallonlineusers(){$.ajax({url:base_url+"/Index/viewallonlineusers",type:"POST",async:!0,data:{},success:function(t){$("#viewallonlineusers_").html(t)}})}function bulletinupload(t){var e=new FormData,a=document.getElementById("bulletinfiles").files.length;if(a>0){for(var s=0;s<a;s++)e.append("bulletinfiles[]",document.getElementById("bulletinfiles").files[s]);e.append("token",t),document.getElementById("bulletinfiles_").style.display="block",$.ajax({url:base_url+"/Index/bulletinupload",type:"post",data:e,dataType:"json",xhr:function(){var t=$.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",bulletinfilesprogress,!1),t},cache:!1,contentType:!1,processData:!1,success:function(t){"success"==t.status?(swalalert("SUCCESS!","File successfully uploaded.","success"),document.getElementById("attachmentcounter_").value=t.attachmentcounter,viewuploadedfilesbulletin(t.token)):"failed"==t.status?alert("Error! Please try again."):"empty"==t.status&&alert("Please attach photo."),document.getElementById("bulletinfiles_").style.display="none",document.getElementById("bulletinfiles").value=""}})}else alert("Please attach file(s).")}function swalalert(t,e,a){swal({title:t,text:e,type:a,allowOutsideClick:!1,customClass:"swal-wide",confirmButtonClass:"btn-success",confirmButtonText:"Confirm",onOpen:()=>swal.getConfirmButton().focus()})}function swalalertwithredirect(t,e,a,s){swal({title:t,text:e,type:a,allowOutsideClick:!1,customClass:"swal-wide",confirmButtonClass:"btn-success",confirmButtonText:"Confirm",onOpen:()=>swal.getConfirmButton().focus()}).then(t=>{t&&(window.location.href=base_url+s)})}function bulletinfilesprogress(t){if(t.lengthComputable){var e=t.total,a=100*t.loaded/e;document.getElementById("bulletinfilesprogressbar_").style.width=Math.round(a)+"%",document.getElementById("bulletinfilesprogresspercentage_").innerHTML=Math.round(a)+"%"}}function viewuploadedfilesbulletin(t){$.ajax({url:base_url+"/Index/viewuploadedfilesbulletin",type:"POST",async:!0,data:{token:t},success:function(t){$("#uploadedfilesbulletin_").html(t)}})}function removeuploadedfilebulletin(t,e){1==confirm("Are you sure to remove this file?")?$.ajax({url:base_url+"/Index/removeuploadedfilebulletin",type:"POST",async:!0,data:{token:t,file:e},success:function(t){var e=JSON.parse(t);viewuploadedfilesbulletin(e.token),viewbulletindetails(e.etoken),document.getElementById("attachmentcounter_").value=e.attachmentcntr,swalalert("SUCCESS!","Successfully removed.","success")}}):swalalert("SUCCESS!","Cancelled.","success")}function createnewinbulletin(){$.ajax({url:base_url+"/Index/createnewinbulletin",type:"POST",async:!0,data:{},success:function(t){$("#bulletincnt_").html(t)}})}function bulletinoptions(t,e){$.ajax({url:base_url+"/Index/bulletinoptions",type:"POST",async:!0,data:{cnt:t,origin:e},success:function(t){$("#bulletinoptions_").html(t)}})}function dntshwbltn(){$.ajax({url:base_url+"/Index/dntshwbltn",type:"POST",async:!0,data:{},success:function(t){"dismiss"==JSON.parse(t).status&&$("#Viewbulletinmdl").modal("hide")}})}function removetobulletin(t){1==confirm("Are you sure to remove this post?")?$.ajax({url:base_url+"/Index/removetobulletin",type:"POST",async:!0,data:{cnt:t},success:function(t){"success"==JSON.parse(t).status?swalalertwithredirect("SUCCESS!","Successfully removed to bulletin.","success","/dashboard"):(alert("Sorry! Error occured while performing this action."),swalalert("ERROR!","Sorry! Error occured while performing this action.","error"))}}):swalalert("SUCCESS!","Cancelled.","success")}function publishtobulletin(t,e,a,s,n){var c=document.getElementById("visibletonational").checked;$.ajax({url:base_url+"/Index/publishtobulletin",type:"POST",async:!0,data:{bltncnt:t,bltnttle:e,attchmntcntr:a,visibletonational:c,bltnwhere:s,bltnwhen:n},success:function(t){var e=JSON.parse(t);"success"==e.status&&swalalertwithredirect("SUCCESS!","Successfully posted.","success","/dashboard"),"failed"==e.status&&swalalert("ERROR!","Please fill (*) required fields.","error")}})}function checkdraft(){$.ajax({url:base_url+"/Index/checkdraft",type:"POST",async:!0,data:{},success:function(t){var e=JSON.parse(t);viewuploadedfilesbulletin(e.token),document.getElementById("bulletintitle").value=e.title,document.getElementById("attachmentcounter_").value=e.attachmentcnt}})}function viewbulletindetails(t){$.ajax({url:base_url+"/Index/bulletin_details",type:"POST",async:!0,data:{token:t},success:function(t){$("#bulletin-details_").html(t)}})}function localbltnsn(){$.ajax({url:base_url+"/Index/localbltnsn",type:"POST",async:!0,data:{},success:function(t){$("#bulletin_notifr").remove()}})}function ntlbltnsn(){$.ajax({url:base_url+"/Index/ntlbltnsn",type:"POST",async:!0,data:{},success:function(t){$("#bulletin_notifn").remove()}})}function chktimelog(t){$.ajax({url:base_url+"/Admin/DTR/chktimelog",type:"POST",async:!0,data:{token:t},success:function(t){$("#divtimelog_").html(t),document.getElementById("savetimelogsbtn").disabled=!1}})}function savetimelog(t,e,a,s,n,c,r){""!=t?$.ajax({url:base_url+"/Admin/DTR/savetimelog",type:"POST",async:!0,data:{datelog:t,inam:e,outam:a,inpm:s,outpm:n,attachmentcounter:c,remarks:r},success:function(t){"success"==JSON.parse(t).status?swalalertwithredirect("SUCCESS!","Successfully updated.","success","/dtr/dashboard"):swalalert("ERROR!","Error occured while performing this action.","error")}}):swalalert("ERROR!","Please select a date.","error")}function chkdtroptions(){$.ajax({url:base_url+"/Admin/DTR/chkdtroptions",type:"POST",async:!0,data:{},success:function(t){$("#chkdtroptions_").html(t)}})}function savetimelogoptions(t,e,a,s){$.ajax({url:base_url+"/Admin/DTR/savetimelogoptions",type:"POST",async:!0,data:{earliest_in:t,latest_in:e,earliest_out:a,latest_out:s},success:function(t){var e=JSON.parse(t);"success"==e.status&&swalalertwithredirect("SUCCESS!","Successfully updated.","success","/dtr/dashboard"),"failed"==e.status&&swalalert("ERROR!","Please fill up required field(s).","error"),"failedam"==e.status&&swalalert("ERROR!","AM Time range is not right or out of range.","error"),"failedpm"==e.status&&swalalert("ERROR!","PM Time range is not right or out of range.","error")}})}function cscformrange(t,e,a){$.ajax({url:base_url+"/Admin/DTR/cscformrange",type:"POST",async:!0,data:{firstrange:t,secondrange:e,surpervisorselectize:a},success:function(t){$("#previewcsc_").html(t)}})}function dtruploadattachment(t){for(var e=new FormData,a=document.getElementById("dtrattachment").files.length,s=0;s<a;s++)e.append("dtrattachment[]",document.getElementById("dtrattachment").files[s]);var n=$("#dtrcatselectize").val();e.append("category",n),e.append("datelog",t),document.getElementById("dtruploadfile_").style.display="block",$.ajax({url:base_url+"/Admin/DTR/dtrattachmentupload",type:"post",data:e,dataType:"json",xhr:function(){var t=$.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",dtrattachmentprogress,!1),t},cache:!1,contentType:!1,processData:!1,success:function(t){"success"==t.status&&(swalalert("SUCCESS!","File(s) successfully uploaded.","success"),chkdtrattached(t.datelog)),"failed"==t.status&&swalalert("ERROR!","Error occured while performing this action.","error"),"empty"==t.status&&swalalert("ERROR!","Please attach file(s).","error"),$("#dtrattachment").val(""),document.getElementById("dtruploadfile_").style.display="none"}})}function dtrattachmentprogress(t){if(t.lengthComputable){var e=t.total,a=100*t.loaded/e;document.getElementById("dtruploadfileuploadprogressbar_").style.width=Math.round(a)+"%",document.getElementById("dtruploadfileprogresspercentage_").innerHTML=Math.round(a)+"%"}}function chkdtrattached(t){$.ajax({url:base_url+"/Admin/DTR/chkdtrattached",type:"POST",async:!0,data:{token:t},success:function(t){$("#dtrattached_").html(t)}})}function removeuploadedfiledtr(t,e){1==confirm("Are you sure to remove this file?")?$.ajax({url:base_url+"/Admin/DTR/removeuploadedfiledtr",type:"POST",async:!0,data:{token:t,file:e},success:function(t){var e=JSON.parse(t);chkdtrattached(e.datelog),"success"==e.status&&swalalert("SUCCESS!","Successfully removed.","success"),"failed"==e.status&&swalalert("ERROR!","Error occured while performing this action.","error"),$("#attachmentcounter").val(e.attachmentcntr)}}):swalalert("SUCCESS!","Cancelled.","success")}function viewdtrattachments(t){$.ajax({url:base_url+"/Admin/DTR/viewdtrattachments",type:"POST",async:!0,data:{token:t},success:function(t){$("#dtrattchments_").html(t)}})}function withattachmentcounter(){$.ajax({url:base_url+"/Admin/DTR/withattachmentcounter",type:"POST",async:!0,data:{token:token},success:function(t){$("#withattachmentcounter_").html(t)}})}function generatedtrrange(){var t=$("#fromdtrroute").val(),e=$("#todtrroute").val();""!=t&&""!=e&&$.ajax({url:base_url+"/Admin/DTR/generatedtrrange",type:"POST",async:!0,data:{from:t,to:e},success:function(t){$("#generatedtrrange_").html(t)}})}function cscform48(){var t=$("#fromdtrroute").val(),e=$("#todtrroute").val(),a=$("#signatorydtrselectize").val();""!=t&&""!=e&&""!=a&&$.ajax({url:base_url+"/Admin/DTR/cscform48",type:"POST",async:!0,data:{from:t,to:e,signatory:a},success:function(t){$("#cscform48_").html(t)}})}function cscform48prev(){var t=$("#prevfromdate").val(),e=$("#prevatodate").val();""!=t&&""!=e&&$.ajax({url:base_url+"/Admin/DTR/cscform48prev",type:"POST",async:!0,data:{from:t,to:e},success:function(t){$("#prevcscform_").html(t)}})}function checkalldtrroute(){1==document.getElementById("checkalldtrroute").checked?$("input:checkbox").attr("checked",!0):$("input:checkbox").attr("checked",!1)}function routedtrselected(t,e,a,s){if(""!=t&&""!=e&&""!=a){var n=[];$(".token:checked").each(function(t,e){n.push($(this).val())}),$.ajax({url:base_url+"/Admin/DTR/routedtrselected",type:"POST",async:!0,data:{"token[]":n.join(),from:t,to:e,routeto:a,signatory:s},success:function(t){var e=JSON.parse(t);"success"==e.status&&swalalertwithredirect("SUCCESS!","Successfully routed.","success","/dtr/dashboard"),"failed"==e.status&&swalalert("ERROR!","Error while performing this action.","error"),"nodata"==e.status&&swalalert("ERROR!","Please select time log(s).","error")}})}else swalalert("ERROR!","Please fill required fields.","error")}function routed_dtr_details(t){$.ajax({url:base_url+"/Admin/DTR/routed_dtr_details",type:"POST",async:!0,data:{token:t},success:function(t){$("#routed_dtr_details_").html(t)}})}function checkrouted_dtr_details(t){$.ajax({url:base_url+"/Admin/DTR/checkrouted_dtr_details",type:"POST",async:!0,data:{token:t},success:function(t){$("#checkrouted_dtr_details_").html(t)}})}function approve_routed_dtr_details(t,e,a,s,n){""!=t&&""!=e&&""!=a?$.ajax({url:base_url+"/Admin/DTR/approve_routed_dtr_details",type:"POST",async:!0,data:{token:t,routeto:e,stat:a,remarks:s,daysworked:n},success:function(t){var e=JSON.parse(t);"success"==e.status&&swalalertwithredirect("SUCCESS!","Successfully routed.","success","/dtr/dashboard"),"missing fields"==e.status&&swalalert("ERROR!","Please fill required fields.","error"),"failed"==e.status&&swalalert("ERROR!","Error encountered.","error")}}):swalalert("ERROR!","Please fill required fields.","error")}function viewrouteddtrattachments(t,e){$.ajax({url:base_url+"/Admin/DTR/viewrouteddtrattachments",type:"POST",async:!0,data:{token:t},success:function(t){$("#viewrouteddtrattachments_"+e).html(t)}})}function processviewrouteddtrattachments(t){$.ajax({url:base_url+"/Admin/DTR/viewrouteddtrattachments",type:"POST",async:!0,data:{token:t},success:function(t){$("#processviewrouteddtrattachments_").html(t)}})}function alterundertime(t,e,a){$.ajax({url:base_url+"/Admin/DTR/alterundertime",type:"POST",async:!0,data:{token:t,val:e,transno:a},success:function(t){}})}function returntosenderdtr(t){$.ajax({url:base_url+"/Admin/DTR/returntosenderdtr",type:"POST",async:!0,data:{token:t},success:function(t){$("#checkrouted_dtr_details_").html(t)}})}function returntosenderfooter(t){$.ajax({url:base_url+"/Admin/DTR/returntosenderfooter",type:"POST",async:!0,data:{token:t},success:function(t){$("#checkrouted_dtr_footer_").html(t)}})}function returntosenderfooterdefault(t){$.ajax({url:base_url+"/Admin/DTR/returntosenderfooterdefault",type:"POST",async:!0,data:{token:t},success:function(t){$("#checkrouted_dtr_footer_").html(t)}})}function dtrroutereturndoc(t,e,a){$.ajax({url:base_url+"/Admin/DTR/dtrroutereturndoc",type:"POST",async:!0,data:{token:t,user:e,remarks:a},success:function(t){var e=JSON.parse(t);"success"==e.status&&swalalertwithredirect("SUCCESS!","Successfully returned.","success","/dtr/dashboard"),"missing fields"==e.status&&swalalert("ERROR!","Please fill required fields.","error"),"failed"==e.status&&swalalert("ERROR!","Error encountered.","error")}})}function editdtrfulldetails(t){$.ajax({url:base_url+"/Admin/DTR/editdtrfulldetails",type:"POST",async:!0,data:{token:t},success:function(t){$("#editrouted_dtr_details_").html(t)}})}function processeditdtrrouted(t,e,a,s){""!=t&&""!=e&&""!=a?$.ajax({url:base_url+"/Admin/DTR/processeditdtrrouted",type:"POST",async:!0,data:{routeto:t,incharge:e,token:a,remarks:s},success:function(t){var e=JSON.parse(t);"success"==e.status&&swalalertwithredirect("SUCCESS!","Successfully routed.","success","/dtr/dashboard"),"missing fields"==e.status&&swalalert("ERROR!","Please fill required fields.","error")}}):swalalert("ERROR!","Please fill required fields.","error")}function savecredeb(t,e){$.ajax({url:base_url+"/Admin/DTR/savecredeb",type:"POST",async:!0,data:{item:t,type:e},success:function(t){var e=JSON.parse(t);"success"==e.status&&swalalertwithredirect("SUCCESS!","Successfully inserted.","success","/dtr/dashboard"),"failed"==e.status&&swalalert("ERROR!","Error encountered.","error"),"missing fields"==e.status&&swalalert("ERROR!","Please fill required fields.","error")}})}function editcredebbtm(t){$.ajax({url:base_url+"/Admin/DTR/editcredebbtm",type:"POST",async:!0,data:{cnt:t},success:function(t){$("#editcredeb_").html(t)}})}function dtrdyswrkd(t,e,a){$.ajax({url:base_url+"/Admin/DTR/dtrdyswrkd",type:"POST",async:!0,data:{token:t,val:e,dlyrt:a},success:function(t){var e=JSON.parse(t);$("#gi"+e.token).html(e.gross_income)}})}function dtrdlyrt(t,e,a,s,n){$.ajax({url:base_url+"/Admin/DTR/dtrdlyrt",type:"POST",async:!0,data:{token:t,val:e,empname:a,transno:s,dyswrkd:n},success:function(t){var e=JSON.parse(t);$("#gi"+e.token).html(e.gross_income)}})}function addondtr(t,e){$.ajax({url:base_url+"/Admin/DTR/addondtr",type:"POST",async:!0,data:{token:t,tkn:e},success:function(t){$("#addondtr_").html(t)}})}function deductiondtr(t,e){$.ajax({url:base_url+"/Admin/DTR/deductiondtr",type:"POST",async:!0,data:{token:t,tkn:e},success:function(t){$("#deductiondtr_").html(t)}})}function newaddondtr(t){$.ajax({url:base_url+"/Admin/DTR/newaddondtr",type:"POST",async:!0,data:{token:t},success:function(t){$("#newaddondtr_").html(t)}})}function newdeductiondtr(t){$.ajax({url:base_url+"/Admin/DTR/newdeductiondtr",type:"POST",async:!0,data:{token:t},success:function(t){$("#newdeductiondtr_").html(t)}})}function saveaddondtr(t,e,a,s){$.ajax({url:base_url+"/Admin/DTR/saveaddondtr",type:"POST",async:!0,data:{usertoken:t,token:e,addonval:a,transno:s},success:function(t){var e=JSON.parse(t);"success"==e.status&&(swalalert("SUCCESS!","Successfully updated.","success"),addonchkr(e.token),$("#addon"+e.res).html(e.total)),"failed"==e.status&&swalalert("ERROR!","Please fill required fields.","error"),"existed"==e.status&&swalalert("ERROR!","Item selected already added.","error")}})}function savedeductiondtr(t,e,a,s){$.ajax({url:base_url+"/Admin/DTR/savedeductiondtr",type:"POST",async:!0,data:{usertoken:t,token:e,addonval:a,transno:s},success:function(t){var e=JSON.parse(t);"success"==e.status&&(swalalert("SUCCESS!","Successfully updated.","success"),deductionchkr(e.token,e.transno),$("#deduction"+e.res).html(e.total),$("#total_deduction"+e.res).html(e.total_deductions)),"failed"==e.status&&swalalert("ERROR!","Please fill required fields.","error"),"existed"==e.status&&swalalert("ERROR!","Item selected already added.","error")}})}function addonchkr(t,e){$.ajax({url:base_url+"/Admin/DTR/addonchkr",type:"POST",async:!0,data:{token:t,tkn:e},success:function(t){$("#addonchkr_").html(t)}})}function chkaddondtr(t){$.ajax({url:base_url+"/Admin/DTR/chkaddondtr",type:"POST",async:!0,data:{token:t},success:function(t){$("#chkaddon_").html(t)}})}function chkaddondtradd(t){$.ajax({url:base_url+"/Admin/DTR/chkaddondtradd",type:"POST",async:!0,data:{token:t},success:function(t){$("#chkaddondtradd_").html(t)}})}function saveaddondtradd(t,e,a){$.ajax({url:base_url+"/Admin/DTR/saveaddondtradd",type:"POST",async:!0,data:{token:t,item:e,val:a},success:function(t){var e=JSON.parse(t);"success"==e.status&&(swalalert("SUCCESS!","Successfully updated.","success"),window.location.href=base_url+"/dtr/dashboard"),"failed"==e.status&&swalalert("ERROR!","Please fill required fields.","error"),"existed"==e.status&&swalalert("ERROR!","Item selected already added.","error")}})}function rmvaddondtrchk(t,e){1==confirm("Are you sure to remove this add-on?")?$.ajax({url:base_url+"/Admin/DTR/rmvaddondtrchk",type:"POST",async:!0,data:{token:t,val:e},success:function(t){"success"==JSON.parse(t).status&&swalalertwithredirect("SUCCESS!","Successfully removed.","success","/dtr/dashboard")}}):alert("Cancelled.")}function deductionchkr(t,e){$.ajax({url:base_url+"/Admin/DTR/deductionchkr",type:"POST",async:!0,data:{token:t,tkn:e},success:function(t){$("#deductionchkr_").html(t)}})}function saveeditedcredeb(t,e,a){$.ajax({url:base_url+"/Admin/DTR/saveeditedcredeb",type:"POST",async:!0,data:{item:t,token:e,type:a},success:function(t){var e=JSON.parse(t);"success"==e.status&&swalalertwithredirect("SUCCESS!","Successfully updated.","success","/dtr/dashboard"),"failed"==e.status&&swalalert("ERROR!","Error encountered.","error"),"missing fields"==e.status&&swalalert("ERROR!","Please fill required fields.","error")}})}function rmvaddon(t,e,a){1==confirm("Are you sure to remove this add-on?")?$.ajax({url:base_url+"/Admin/DTR/rmvaddon",type:"POST",async:!0,data:{token:t,val:e,transno:a},success:function(t){var e=JSON.parse(t);""!=e.token&&(addonchkr(e.token),$("#addon"+e.transno).html(e.total),swalalert("SUCCESS!","Successfully removed.","success"))}}):alert("Cancelled.")}function rmvdeduction(t,e,a){1==confirm("Are you sure to remove this deduction?")?$.ajax({url:base_url+"/Admin/DTR/rmvdeduction",type:"POST",async:!0,data:{token:t,val:e,transno:a},success:function(t){var e=JSON.parse(t);""!=e.token&&(deductionchkr(e.token,e.transno),$("#deduction"+e.trans_no).html(e.total),swalalert("SUCCESS!","Successfully removed.","success"))}}):alert("Cancelled.")}function dtrsummary(t){$.ajax({url:base_url+"/Admin/DTR/dtrsummary",type:"POST",async:!0,data:{token:t},success:function(t){$("#dtrsummarymdl_").html(t)}})}function dtrpayrollapprove(t){1==confirm("Are you sure perform this action?")?$.ajax({url:base_url+"/Admin/DTR/dtrpayrollapprove",type:"POST",async:!0,data:{token:t},success:function(t){var e=JSON.parse(t);"success"==e.status&&swalalertwithredirect("SUCCESS!","Successfully approved.","success","/dtr/dashboard"),"failed"==e.status&&swalalert("ERROR!","Sorry! Error occured while performing this action.","error")}}):alert("Cancelled.")}function prevempdtrrng(t,e){$.ajax({url:base_url+"/Admin/DTR/prevempdtrrng",type:"POST",async:!0,data:{from:t,to:e},success:function(t){$("#prevempdtrrng_").html(t)}})}function prevcscformbtn(){$.ajax({url:base_url+"/Admin/DTR/prevcscformbtn",type:"POST",async:!0,data:{},success:function(t){$("#prevcscformbtn_").html(t)}})}function prevcscformbtnftr(t,e){$.ajax({url:base_url+"/Admin/DTR/prevcscformbtnftr",type:"POST",async:!0,data:{from:t,to:e},success:function(a){""!=t&&""!=e&&$("#prevcscformbtnftr_").html(a)}})}$(document).ready(function(){$.ajax({url:base_url+"/Notification/bilangin_ang_abiso",type:"POST",async:!0,data:{value:"tr"},success:function(t){var e=JSON.parse(t);console.log(e);var a=e.msc>0?e.msc:0;$("#msc_").html(a);var s=e.rtc>0?e.rtc:0;$("#rtc_").html(s),$("#rtc2_").html(s);var n=e.crc>0?e.crc:0;$("#crc_").html(n),$("#crc2_").html(n);var c=e.toc>0?e.toc:0;$("#toc_").html(c);var r=e.tofa>0?e.tofa:0;$("#tofa_").html(r);var o=e.tot>0?e.tot:0;$("#tot_").html(o);var l=e.sfc>0?e.sfc:0;$("#sfc_").html(l);var u=e.spc>0?e.spc:0;$(".spc_").html(u)}})});
