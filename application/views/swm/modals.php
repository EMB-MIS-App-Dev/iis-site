<div class="modal fade" id="sw_confirmation_message" tabindex="-1" role="dialog" aria-labelledby="useraccountsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="useraccountsModalLabel">Create SWEET-ENMO Report</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
        <div class="modal-body">
            <center><h6 style="color: #000; margin:30px 0px 30px 0px;">Are you sure to create SWEET-ENMO Report?</h6></center>
        </div>
        <div class="modal-footer">
          <a href="<?php echo base_url(); ?>Swm/Sweet/sweet_new_trans" style="float:left;" class="btn btn-success btn-sm">Confirm</a>
        </div>
    </div>
  </div>
</div>

<div class="modal fade" id="createdraftnov" tabindex="-1" role="dialog" aria-labelledby="useraccountsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="useraccountsModalLabel">Create NOV Letter</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
        <div class="modal-body">
            <center><h6 style="color: #000; margin:30px 0px 30px 0px;">Are you sure to draft NOV letter?</h6></center>
        </div>
        <div class="modal-footer">
          <a href="<?php echo base_url(); ?>Swm/Sweet/Clearsessionnov" style="float:left;" class="btn btn-success btn-sm">Confirm</a>
        </div>
    </div>
  </div>
</div>


<div class="modal fade" id="update_sw_confirmation_message" tabindex="-1" role="dialog" aria-labelledby="useraccountsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="useraccountsModalLabel">UPDATE REPORT</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div id="update_sw_report_body"></div>
    </div>
  </div>
</div>

<div class="modal fade" id="lgufeedbackmodal" tabindex="-1" role="dialog" aria-labelledby="useraccountsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document" style="max-width: 95% !important;">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="useraccountsModalLabel">LGU FEEDBACK(s)</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div id="lgufeedbackmodal_"></div>
    </div>
  </div>
</div>

<div class="modal fade" id="view_sw_history" tabindex="-1" role="dialog" aria-labelledby="useraccountsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document" style="max-width: 95% !important;">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="useraccountsModalLabel">REPORT HISTORY</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div id="view_sw_history_body"></div>
    </div>
  </div>
</div>

<div class="modal fade" id="maplocationbtn" tabindex="-1" role="dialog" aria-labelledby="useraccountsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document" style="max-width: 95% !important;">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="useraccountsModalLabel">REPORT HISTORY</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div id="maplocationbtn_body"></div>
    </div>
  </div>
</div>

<div class="modal fade" id="edit_report" tabindex="-1" role="dialog" aria-labelledby="useraccountsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="useraccountsModalLabel">EDIT ENMO REPORT</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div id="edit_report_body"></div>
    </div>
  </div>
</div>

<div class="modal fade" id="edit_nov_letter" tabindex="-1" role="dialog" aria-labelledby="useraccountsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="useraccountsModalLabel">EDIT NOV LETTER</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div id="edit_nov_letter_body"></div>
    </div>
  </div>
</div>

<div class="modal fade" id="edit_viewattachment" tabindex="-1" role="dialog" aria-labelledby="useraccountsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="useraccountsModalLabel">Previously Attached</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div id="previously_attached_body"></div>
    </div>
  </div>
</div>

<div class="modal fade" id="prevviewattachment" tabindex="-1" role="dialog" aria-labelledby="useraccountsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="useraccountsModalLabel">Previous report photo attachment</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div id="prevviewattachmentbtn_"></div>
    </div>
  </div>
</div>

<!-- Process Sweet Report -->
 <div class="modal fade" id="process_sweetreport" tabindex="-1" role="dialog" aria-labelledby="useraccountsModalLabel" aria-hidden="true">
   <div class="modal-dialog modal-lg" role="document">
     <div class="modal-content">
       <div class="modal-header">
         <h5 class="modal-title" id="useraccountsModalLabel">PROCESS ENMO REPORT</h5>
         <button type="button" class="close" data-dismiss="modal" aria-label="Close">
           <span aria-hidden="true">&times;</span>
         </button>
       </div>
         <div id="process_sweetreport_modal"></div>
     </div>
   </div>
 </div>
<!-- Process Sweet Report -->

<!-- Process Sweet Report -->
 <div class="modal fade" id="process_swmnovletter" tabindex="-1" role="dialog" aria-labelledby="useraccountsModalLabel" aria-hidden="true">
   <div class="modal-dialog modal-lg" role="document">
     <div class="modal-content">
       <div class="modal-header">
         <h5 class="modal-title" id="useraccountsModalLabel">Process NOV Letter</h5>
         <button type="button" class="close" data-dismiss="modal" aria-label="Close">
           <span aria-hidden="true">&times;</span>
         </button>
       </div>
         <div id="process_swmnovletter_modal"></div>
     </div>
   </div>
 </div>
<!-- Process Sweet Report -->

 <!-- Filter Sweet Report -->
  <div class="modal fade" id="filter_table_sw" tabindex="-1" role="dialog" aria-labelledby="useraccountsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="useraccountsModalLabel">Filter Table</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <form action='<?php echo base_url(); ?>Swm/Sweet' method='GET'>
          <div class="modal-body">
            <div class="row">
              <div class="col-md-12">
                <label>Filter by:</label>
                <select class="form-control" id="filter_by_selectize" onchange="filter_by_select(this.value);" required>
                  <option value="">-</option>
                  <option value="<?php echo $this->encrypt->encode('Casehandler'); ?>">Casehandler</option>
                  <option value="<?php echo $this->encrypt->encode('LGU'); ?>">LGU</option>
                </select>
              </div>
              <div class="col-md-12" id="filter-by-body"></div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-danger btn-sm" data-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-success btn-sm">Proceed</button>
          </div>
          </form>
      </div>
    </div>
  </div>

  <div class="modal fade" id="exportdata" tabindex="-1" role="dialog" aria-labelledby="useraccountsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="useraccountsModalLabel">Please select date patrolled range</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <form action='<?php echo base_url(); ?>Swm/Exportdata' method='POST'>
          <div class="modal-body">
            <div class="row">
              <div class="col-md-6">
                <label>From:</label>
                <input type="date" name="from_dt" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label>To:</label>
                <input type="date" name="to_dt" class="form-control" required>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-danger btn-sm" data-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-success btn-sm">Export</button>
          </div>
          </form>
      </div>
    </div>
  </div>

  <div class="modal fade" id="removenov" tabindex="-1" role="dialog" aria-labelledby="useraccountsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="useraccountsModalLabel">Remove NOV Letter</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
          <div id="removenov_"></div>
      </div>
    </div>
  </div>

   <!-- Sweet Settings -->
  <div class="modal fade" id="sw_settings" tabindex="-1" role="dialog" aria-labelledby="useraccountsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="useraccountsModalLabel">SWEET-ENMO SETTINGS</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-md-12">
                <button class="btn btn-success btn-sm" onclick="assignsweet();">Assign user as SWEET Officer</button>
                <button class="btn btn-success btn-sm" onclick="swaddtemplate();">Add Evaluator Hierarchy Template</button>
                <button class="btn btn-success btn-sm" onclick="swassignlgutouser();">Assign LGU to SWEET Officer</button>
                <hr>
              </div>
              <div id="assignsweetbdy" class="col-md-12" style="padding:0px;"></div>
              <div class="col-md-12">
                <br>
                <ul class="nav nav-tabs" id="sweettab" role="tablist">
                  <li class="nav-item">
                    <a class="nav-link active" id="sweetindex-tab" data-toggle="tab" href="#sweetindex" role="tab" aria-controls="sweetindex" aria-selected="true" style="font-size:10pt;">SWEET Officers</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" id="hierarchytemplate-tab" data-toggle="tab" href="#hierarchytemplate" role="tab" aria-controls="hierarchytemplate" aria-selected="false"style="font-size:10pt;">Hierarchy Template</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" id="monitoredlgus-tab" data-toggle="tab" href="#monitoredlgus" role="tab" aria-controls="monitoredlgus" aria-selected="false"style="font-size:10pt;">Monitored LGU's / Assigned LGU's</a>
                  </li>
                </ul>
                <div class="tab-content" id="sweettabContent">
                  <div class="tab-pane fade show active" id="sweetindex" role="tabpanel" aria-labelledby="sweetindex-tab">
                    <div class="col-md-12"><br>
                      <div style="display: block;overflow-x: auto;white-space: nowrap;">
                        <table id="sweet_settings_index" class="table table-striped table-hover" style="zoom:90%;width:100%!important;">
                          <thead>
                            <tr>
                              <th>userid</th>
                              <th>fname</th>
                              <th>mname</th>
                              <th>sname</th>
                              <th>Date Added</th>
                              <th>Casehandler(s)</th>
                              <th>func</th>
                              <th>Assigned Hierarchy</th>
                              <th>Action</th>
                            </tr>
                          </thead>
                        </table>
                      </div>
                    </div>
                  </div>
                  <div class="tab-pane fade" id="hierarchytemplate" role="tabpanel" aria-labelledby="hierarchytemplate-tab">
                    <div class="col-md-12"><br>
                      <div style="display: block;overflow-x: auto;white-space: nowrap;">
                        <table id="sweet_settings_templates" class="table table-striped table-hover" style="zoom:90%;width:100%!important;">
                          <thead>
                            <tr>
                              <th>token</th>
                              <th>Date Added</th>
                              <th>Hierarchy Name</th>
                              <th>Action</th>
                            </tr>
                          </thead>
                        </table>
                      </div>
                    </div>
                  </div>
                  <div class="tab-pane fade" id="monitoredlgus" role="tabpanel" aria-labelledby="monitoredlgus-tab">
                    <div class="col-md-12"><br>
                      <div style="display: block;overflow-x: auto;white-space: nowrap;">
                        <table id="sweet_lgu_monitored" class="table table-striped table-hover" style="zoom:90%;width:100%!important;">
                          <thead>
                            <tr>
                              <th>cnt</th>
                              <th>EMB ID</th>
                              <th>LGU Name</th>
                              <th>Assigned Officer</th>
                              <th>Action</th>
                            </tr>
                          </thead>
                        </table>
                      </div>
                    </div>
                  </div>
                </div><br>
              </div>
            </div>
          </div>
      </div>
    </div>
  </div>

  <script type="text/javascript">
    $('#filter_by_selectize').selectize();
    $('#no_rows_sw').selectize();
    $('#casehandlers_selectize_settings').selectize({
        maxItems: 20
    });

    $(document).ready(function(){
        var table_settings_index = $('#sweet_settings_index').DataTable({
            responsive: true,
            paging: true,
            language: {
              "infoFiltered": "",
            },
            "serverSide": true,
            "order": [[ 0, "asc"]],
            "ajax": "<?php echo base_url(); ?>Swm/Sweet_serverside/sw_settings",
            "columns": [
              { "data": "userid","searchable": true,"visible": false},
              { "data": "fname","searchable": true,"visible": false},
              { "data": "mname","searchable": true,"visible": false},
              { "data": "sname","searchable": true,"visible": false},
              { "data": "date_added","searchable": true,"visible": true},
              { "data": "suffix","searchable": true,"visible": true},
              { "data": "func_token","searchable": true,"visible": false},
              { "data": "func_name","searchable": true,"visible": true},
              {
                "data": null,
                  "render": function(data, type, row, meta){

                      data = "<button type='button' class='btn btn-danger btn-sm' onclick=rmvassngmntsw('"+row['userid']+"')>Remove Officer Assignment</button>";

                    return data;
                  }
              },
            ]
        });

        var table_settings_templates = $('#sweet_settings_templates').DataTable({
            responsive: true,
            paging: true,
            language: {
              "infoFiltered": "",
            },
            "serverSide": true,
            "order": [[ 0, "asc"]],
            "ajax": "<?php echo base_url(); ?>Swm/Sweet_serverside/sw_template",
            "columns": [
              { "data": "token","searchable": true,"visible": false},
              { "data": "date_added","searchable": true,"visible": true},
              { "data": "func_name","searchable": true,"visible": true},
              {
                "data": null,
                  "render": function(data, type, row, meta){

                      data = "<button type='button' class='btn btn-danger btn-sm' onclick=rmvtemplatesw('"+row['token']+"')>Deactivate Template</button>";

                    return data;
                  }
              },
            ]
        });

        var table_lgu_monitored = $('#sweet_lgu_monitored').DataTable({
            responsive: true,
            paging: true,
            language: {
              "infoFiltered": "",
            },
            "serverSide": true,
            "order": [[ 0, "asc"]],
            "ajax": "<?php echo base_url(); ?>Swm/Sweet_serverside/lgu_monitored",
            "columns": [
              { "data": "cnt","searchable": true,"visible": false},
              { "data": "emb_id","searchable": true,"visible": true},
              { "data": "lgu_name","searchable": true,"visible": true},
              { "data": "name","searchable": true,"visible": true},
              {
                "data": null,
                  "render": function(data, type, row, meta){

                      data = "<button type='button' class='btn btn-danger btn-sm' onclick=rmvassignedlgu('"+row['cnt']+"')>Remove Assignment</button>";

                    return data;
                  }
              },
            ]
        });

    });
  </script>
